import { ReactElement } from 'react';
import { Skeleton, Typography } from 'antd';
import Image from 'next/image';

import { Character, CharacterStatus, Genders } from '../../types';
import styles from './styles.module.css';

import Status from '../Status';
import Tags from '../Tags';
import EpisodeList from '../EpisodeList';

const { Text } = Typography;

const placeholder =
  'data:image/jpeg;base64,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';

export default function CharacterCard({
  name,
  image = placeholder,
  status = CharacterStatus.Unknown,
  species,
  type,
  gender,
  origin,
  location,
  episode = [],
  loading = false,
}: Partial<Character> & { loading?: boolean }): ReactElement {
  return (
    <article>
      <div className={styles.card}>
        <div className={styles.cover}>
          <Image
            src={image}
            alt={name}
            height={300}
            width={300}
            layout='intrinsic'
            placeholder='blur'
            blurDataURL={placeholder}
          />
        </div>
        <div className={styles.copy}>
          {loading ? (
            <Skeleton active loading paragraph={{ rows: 4 }} />
          ) : (
            <>
              <h1>{name}</h1>
              <Status status={status} />
              <Tags tags={[species, type, gender && gender !== Genders.Unknown ? gender : null]} />
              <Text type='secondary'>Origin Location: </Text>
              <Text>{origin?.name}</Text>
              <br />
              <Text type='secondary'>Last Known Location: </Text>
              <Text>{location?.name}</Text>
              <br />
              <br />
              <EpisodeList episodes={episode} length={2} />
            </>
          )}
        </div>
      </div>
    </article>
  );
}
